\chapter{DPとは}
\label{cha:related}
2.1　DP

DPとは、計算効率の良いアルゴリズム構造の一つであり、一度計算した計算式を再利用することで計算効率を上昇させたものである。また、DPは決まったアルゴリズムがある訳ではなく下記の二つを満たしているアルゴリズムを総称してDPと定義される。

・帰納的な関係を利用していること。

・計算結果の記録をしていること。

以上の条件を満たしている時DPといえる。

DPを利用することで計算時間を短縮し最適解を求めることが出来る。またDPを形成する手法としてメモ化や漸化式などの手法が挙げられる。本論文ではメモ化を用いたDPを使ってKPを解く。

2.2　KP

KPとは決められた容積を持つナップサックに価値と容積が決められた品物を入れていき一番価値が高くなる組合せを求める問題である。

例えば、a,b,cの三つの品物とNというナップサックがあったとする。a,b,c,はそれぞれに価値と容積が定められており、またNには容積が定められている。この問題に対しての計算の組合せはa,b,c,a+b,a+c,a+b+cの6通りである。これらの計算の結果容積がN以下であり一番価値の値が大きかった組合せを解とする。全探査の場合ではこれらの計算を全て行うがDPの場合は例えばa+bを一度計算した場合a+b+cの計算ではa+bで求めた計算結果を再利用して計算を行う。分かりやすくいうならばa+b=10という計算結果が出たとしよう。a+b+cではa+bを再利用するので10+cの計算を行うといった手法である。この程度の問題であるならばDPを使わなくても一瞬で計算することが出来るが問題サイズが大きくなると結果として計算速度を上昇させてくれる。

2.3　DPの問題点

DPは計算速度が上昇するが以下の問題点が存在する。

・メモリを大量に使用する。

・普通に計算するより、再利用する計算結果を見つける時の方が遅くなる可能性がある。

・

1つ目の問題点は、メモリを大量に使用するといった点である。int型で2byte、価値と容積で2つ使うため1つの品物につき4byteのメモリを使用する。また、組合せ保存用にも同じ4byte必要で合計8byte必要となる。この時、2＾品物の個数＊８のメモリが必要になる。今回の実験環境でのメモリ数は31.9GBなので品物の個数31個までしか計算することが出来なかった。品物の個数32個からは２＾32＊８のメモリを使用することになるのでおおよそ34GBのメモリを要する事になる。しかし、メモリの値段はかなり安い物になっているので問題ではないと考えている。2つ目の問題点は、全探査で計算を行った方がDPよりも早くなるといった問題点である。DPの手法によりメモ化した計算結果を探し出し再利用する方が全探査で行うよりも早くなる可能性がある。しかし、このような問題が起こるのはメモ化したものを最初から目的のメモまでを参照場合のみ起こりうるので本論文でのDPではそのような問題がないようにアルゴリズムを作成した。
